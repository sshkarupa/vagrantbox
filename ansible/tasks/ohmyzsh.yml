---
# oh-my-zsh

- name: oh-my-zsh | install oh-my-zsh
  become: yes
  become_user: root
  apt: name={{ item }}  state=latest update_cache=yes
  with_items:
   - zsh

- name: oh-my-zsh | clone down repository
  git: repo=https://github.com/robbyrussell/oh-my-zsh.git dest=/home/vagrant/.oh-my-zsh

- name: oh-my-zsh | remove standard .zshrc
  file: path=/home/vagrant/.zshrc state=absent

- name: oh-my-zsh | deploy new .zshrc
  template: src=files/zshrc.in dest=/home/vagrant/.zshrc owner=vagrant

- name: oh-my-zsh | set zsh as default shell
  become: yes
  become_user: root
  user: name=vagrant shell=/bin/zsh
